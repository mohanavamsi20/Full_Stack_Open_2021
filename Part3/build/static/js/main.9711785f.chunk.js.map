{"version":3,"sources":["components/Person.js","components/Persons.js","components/FilterModule.js","components/PersonForm.js","services/names.js","App.js","index.js"],"names":["Person","id","name","number","deletePerson","onClick","Persons","persons","foundPerson","searchedPerson","map","p","FilterModule","handlePersonSearch","onChange","value","PersonForm","addPerson","handleNameChange","newName","handleNumberChange","newNumber","onSubmit","type","baseUrl","all","getAll","axios","get","then","response","data","create","newObject","post","update","put","delete","App","useState","setPersons","useEffect","service","initialPersons","setNewName","setNewNumber","setSearchedPerson","setFoundPerson","notify","setNotify","error","setError","Notify","message","className","Error","event","target","personResult","filter","person","toLowerCase","includes","preventDefault","nameObject","some","item","index","findIndex","window","confirm","returnedPerson","setTimeout","concat","result","console","log","catch","ReactDOM","render","document","getElementById"],"mappings":"6KAUeA,MARf,YAAkD,IAAhCC,EAA+B,EAA/BA,GAAGC,EAA4B,EAA5BA,KAAKC,EAAuB,EAAvBA,OAAOC,EAAgB,EAAhBA,aAC7B,OACE,8BACE,8BAAIF,EAAJ,IAAWC,EAAX,IAAmB,wBAAQE,QAAS,kBAAMD,EAAaH,EAAGC,IAAvC,0BCWZI,MAbf,YAAsE,IAApDC,EAAmD,EAAnDA,QAAQC,EAA2C,EAA3CA,YAAaC,EAA8B,EAA9BA,eAAeL,EAAe,EAAfA,aAMlD,OACI,8BALmB,KAAnBK,EACGF,EAAQG,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAmBV,GAAIU,EAAEV,GAAIC,KAAMS,EAAET,KAAMC,OAAQQ,EAAER,OAAQC,aAAcA,GAA9DO,EAAEV,OAC7BO,EAAYE,KAAI,SAAAC,GAAC,OAAK,8BAAeA,EAAET,KAAjB,IAAwBS,EAAER,SAAlBQ,EAAEV,UCG/BW,MARf,YAA+D,IAAvCH,EAAsC,EAAtCA,eAAgBI,EAAsB,EAAtBA,mBACtC,OACE,sDACuB,uBAAOC,SAAUD,EAAoBE,MAAON,QCaxDO,MAhBf,YAA4F,IAAvEC,EAAsE,EAAtEA,UAAWC,EAA2D,EAA3DA,iBAAkBC,EAAyC,EAAzCA,QAASC,EAAgC,EAAhCA,mBAAoBC,EAAY,EAAZA,UAC3E,OACI,uBAAMC,SAAUL,EAAhB,UACA,yCACQ,uBAAOF,MAAOI,EAASL,SAAUI,OAEzC,4CACW,uBAAOH,MAAOM,EAAWP,SAAUM,OAE9C,8BACE,wBAAQG,KAAK,SAAb,uB,gBCXJC,EAAU,kDA6BDC,EAPH,CACVC,OArBa,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAoBzCC,OAjBa,SAAAC,GAEX,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAgB3CI,OAba,SAAClC,EAAIgC,GAElB,OADgBN,IAAMS,IAAN,UAAaZ,EAAb,YAAwBvB,GAAMgC,GAC/BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAYzC3B,aATmB,SAAAH,GAEnB,OADgB0B,IAAMU,OAAN,UAAgBb,EAAhB,YAA2BvB,IAC5B4B,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCuI5BO,G,MAnJH,WACV,MAA+BC,mBAAS,IAAxC,mBAAQhC,EAAR,KAAiBiC,EAAjB,KAEAC,qBAAU,WACRC,EACGhB,SACAG,MAAK,SAAAc,GACJH,EAAWG,QAEd,IAEH,MAAgCJ,mBAAS,IAAzC,mBAAQpB,EAAR,KAAiByB,EAAjB,KACA,EAAoCL,mBAAS,IAA7C,mBAAQlB,EAAR,KAAmBwB,EAAnB,KACA,EAA4CN,mBAAS,IAArD,mBAAO9B,EAAP,KAAuBqC,EAAvB,KACA,EAAsCP,mBAAS,IAA/C,mBAAO/B,EAAP,KAAoBuC,EAApB,KACA,EAA4BR,mBAAS,MAArC,mBAAOS,EAAP,KAAeC,EAAf,KACA,EAA0BV,mBAAS,MAAnC,mBAAOW,EAAP,KAAcC,EAAd,KAEMC,EAAS,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,SAAf,SACGD,KAKDE,EAAQ,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACf,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KAyFP,OACE,gCACE,2CACA,cAACD,EAAD,CAAQC,QAASL,IACjB,cAACO,EAAD,CAAOF,QAASH,IAChB,cAAC,EAAD,CAAcrC,mBAbS,SAAC2C,GAC1BV,EAAkBU,EAAMC,OAAO1C,OAC/B,IAAM2C,EAAenD,EAAQoD,QAAO,SAAAC,GAAM,OACxCA,EAAO1D,KAAK2D,cAAcC,SAASN,EAAMC,OAAO1C,MAAM8C,kBAExDd,EAAeW,IAQyCjD,eAAgBA,IACtE,2CACA,cAAC,EAAD,CACEQ,UA3FY,SAACuC,GACjBA,EAAMO,iBACN,IAAMC,EAAa,CACjB9D,KAAMiB,EACNhB,OAAOkB,GAET,IAAmD,IAAhDd,EAAQ0D,MAAK,SAAAC,GAAI,OAAIA,EAAKhE,OAASiB,KAAkB,CACtD,IAAIgD,EAAQ5D,EAAQ6D,WAAU,SAAAzD,GAAC,OAAIA,EAAET,OAASiB,KAC1ClB,EAAKM,EAAQ4D,GAAOlE,IAEE,IADFoE,OAAOC,QAAP,UAAkBnD,EAAlB,iFAEtBuB,EACGP,OAAOlC,EAAI+D,GACXnC,MAAK,SAAA0C,GACJ/B,EAAWjC,EAAQG,KAAI,SAAAC,GAAC,OAAIA,EAAEV,KAAOA,EAAKU,EAAI4D,SAEhDtB,EAAU,WAAD,OACI9B,IAEbqD,YAAW,WACTvB,EAAU,QACT,WAIPP,EACCV,OAAOgC,GACPnC,MAAK,SAAA0C,GACJ/B,EAAWjC,EAAQkE,OAAOF,IAC1B3B,EAAW,IACXC,EAAa,OAEfI,EAAU,SAAD,OACE9B,IAEXqD,YAAW,WACTvB,EAAU,QACT,MAuDD/B,iBAxBmB,SAACsC,GACxBZ,EAAWY,EAAMC,OAAO1C,QAwBpBI,QAASA,EACTC,mBAvBqB,SAACoC,GAC1BX,EAAaW,EAAMC,OAAO1C,QAuBtBM,UAAWA,IAEb,yCACA,cAAC,EAAD,CAASd,QAASA,EAASC,YAAaA,EAAaC,eAAgBA,EAAgBL,aAzDpE,SAACH,EAAIC,GACxB,IAAIwE,EAASL,OAAOC,QAAP,iBAAyBpE,EAAzB,MACbyE,QAAQC,IAAI3E,IACG,IAAXyE,GACFhC,EACGtC,aAAaH,GACb4B,MAAK,WACJW,EAAWjC,EAAQoD,QAAO,SAAAhD,GAAC,OAAIA,EAAEV,KAAOA,MACxCgD,EAAU,GAAD,OACJ/C,EADI,yBAGTsE,YAAW,WACTvB,EAAU,QACT,QAEJ4B,OAAM,SAAA3B,GACLC,EAAS,mBAAD,OACajD,EADb,2CAGRsE,YAAW,WACTrB,EAAS,QACR,KACHX,EAAWjC,EAAQoD,QAAO,SAAAhD,GAAC,OAAIA,EAAEV,KAAOA,iBChHlD6E,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.9711785f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Person({ id,name,number,deletePerson }) {\r\n    return (\r\n      <div>\r\n        <p>{name} {number} <button onClick={() => deletePerson(id,name)}>delete</button></p>\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nfunction Persons({persons,foundPerson, searchedPerson,deletePerson}) {\r\n    const rows = () =>\r\n        searchedPerson === \"\"\r\n        ? (persons.map(p => <Person key={p.id} id={p.id} name={p.name} number={p.number} deletePerson={deletePerson}/>)\r\n        ) : ( foundPerson.map(p => (<p key={p.id}>{p.name} {p.number}</p>))\r\n        )\r\n    return (\r\n        <div>\r\n            {rows()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from \"react\"\r\n\r\nfunction FilterModule({ searchedPerson, handlePersonSearch }) {\r\n  return (\r\n    <div>\r\n        filter shown with: <input onChange={handlePersonSearch} value={searchedPerson}/>\r\n    </div> \r\n  )\r\n}\r\n\r\nexport default FilterModule","import React from 'react'\r\n\r\nfunction PersonForm({addPerson, handleNameChange, newName, handleNumberChange, newNumber}) {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/>\r\n        </div>\r\n        <div>\r\n          Numbers: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = 'https://myreactpart3b.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);  \r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst all = { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  deletePerson: deletePerson \r\n}\r\n\r\nexport default all;","import React, { useState ,useEffect} from 'react'\nimport Persons from './components/Persons'\nimport FilterModule from './components/FilterModule'\nimport PersonForm from './components/PersonForm'\n// import axios from 'axios'\nimport service from './services/names'\nimport './App.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n\n  useEffect(() => {\n    service\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [searchedPerson, setSearchedPerson] = useState('')\n  const [foundPerson, setFoundPerson] = useState([])\n  const [notify, setNotify] = useState(null)\n  const [error, setError] = useState(null)\n\n  const Notify = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"notify\">\n        {message}\n      </div>\n    )\n  }\n\n  const Error = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number:newNumber,\n    }\n    if(persons.some(item => item.name === newName) === true){\n      let index = persons.findIndex(p => p.name === newName);\n      let id = persons[index].id;\n      let checkNameDialogue = window.confirm(`${newName} is already added to the Phonebook, replace the old number with a new one?`);\n      if (checkNameDialogue === true) {\n        service\n          .update(id, nameObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\n          })\n          setNotify(\n            `Updated ${newName}`\n          )\n          setTimeout(() => {\n            setNotify(null)\n          }, 5000)\n        }\n    }\n    else{\n      service\n      .create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName('')\n        setNewNumber('')\n      })\n      setNotify(\n        `Added ${newName}`\n      )\n      setTimeout(() => {\n        setNotify(null)\n      }, 5000)\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    let result = window.confirm(`Delete ${name}?`);\n    console.log(id)\n    if (result === true) {\n      service\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n          setNotify(\n            `${name} succesfully deleted`\n          )\n          setTimeout(() => {\n            setNotify(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setError(\n            `Information of '${name}' has already been removed from server`\n          )\n          setTimeout(() => {\n            setError(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handlePersonSearch = (event) => {\n    setSearchedPerson(event.target.value);\n    const personResult = persons.filter(person =>\n      person.name.toLowerCase().includes(event.target.value.toLowerCase())\n    );\n    setFoundPerson(personResult);\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notify message={notify} />\n      <Error message={error} />\n      <FilterModule handlePersonSearch={handlePersonSearch} searchedPerson={searchedPerson}/> \n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        newName={newName}\n        handleNumberChange={handleNumberChange}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={persons} foundPerson={foundPerson} searchedPerson={searchedPerson} deletePerson={deletePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}